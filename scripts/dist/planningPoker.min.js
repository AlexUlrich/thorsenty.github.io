!function(a,b){var c=new Firebase("https://sweltering-torch-73.firebaseio.com/");b.module("thorsent",["ngRoute","ngMaterial","firebase"]).config(["$routeProvider",function(a){a.when("/",{controller:"LandingCtrl",templateUrl:"/planning-poker/landing.html"}).when("/:roomId/",{controller:"RoomCtrl",templateUrl:"/planning-poker/room.html"}).otherwise({redirectTo:"/"})}]).factory("Room",["$firebase",function(a){return function(b){var d=c.child("rooms").child(b);return a(d).$asObject()}}]).factory("RoomHelper",["$q",function(a){return{checkIfRoomExists:function(b){var d=a.defer();return c.child("rooms").child(b).once("value",function(a){exists=null!==a.val(),d.resolve(exists)}),d.promise},randomRoomId:function(){return Math.floor(999e5*Math.random()+1e5).toString()}}}]).controller("LandingCtrl",["$scope","$location","$firebase","RoomHelper",function(a,b,d,e){d(c.child("rooms"));a.joinRoom=function(){b.path("/"+a.roomId)},a.newRoom=function(){var a=e.randomRoomId(),f=d(c.child("rooms").child(a));f.$set({roomId:a}),b.path("/"+a)}}]).controller("RoomCtrl",["$scope","$routeParams","$location","Room","RoomHelper",function(a,b,c,d,e){var f=b.roomId;e.checkIfRoomExists(f).then(function(b){b?a.room=d(f):c.path("/")})}])}(window,window.angular);