!function(a,b){var c=new Firebase("https://sweltering-torch-73.firebaseio.com/"),d=[{name:"Mountain Goat",cards:[{text:"0",val:0},{text:"1/2",val:.5},{text:"1",val:1},{text:"2",val:2},{text:"3",val:3},{text:"5",val:5},{text:"8",val:8},{text:"13",val:13},{text:"20",val:20},{text:"40",val:40},{text:"100",val:100},{text:"?",val:-1},{text:"Cafe",val:-1}]},{name:"Fibonacci",cards:[{text:"0",val:0},{text:"1",val:1},{text:"2",val:2},{text:"3",val:3},{text:"5",val:5},{text:"8",val:8},{text:"13",val:13},{text:"21",val:21},{text:"34",val:34},{text:"55",val:55},{text:"89",val:89},{text:"?",val:-1}]},{name:"Sequential",cards:[{text:"0",val:0},{text:"1",val:1},{text:"2",val:2},{text:"3",val:3},{text:"4",val:4},{text:"5",val:5},{text:"6",val:6},{text:"7",val:7},{text:"8",val:8},{text:"9",val:9},{text:"10",val:10},{text:"?",val:-1}]},{name:"T-Shirt",cards:[{text:"XS",val:1},{text:"S",val:2},{text:"M",val:3},{text:"L",val:4},{text:"XL",val:5},{text:"?",val:-1}]}];b.module("thorsent",["ngRoute","ngMaterial","firebase"]).config(["$routeProvider",function(a){a.when("/",{controller:"LandingCtrl",templateUrl:"/planning-poker/landing.html"}).when("/:roomId/",{controller:"RoomCtrl",templateUrl:"/planning-poker/room.html"}).otherwise({redirectTo:"/"})}]).factory("RoomHelper",["$q","$firebase",function(a,b){return{checkIfRoomExists:function(b){var d=a.defer();return c.child("rooms").child(b).once("value",function(a){exists=null!==a.val(),d.resolve(exists)}),d.promise},generateRoomId:function(){return Math.floor(999e5*Math.random()+1e5).toString()},generateUserId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},getRoom:function(a){var d=c.child("rooms").child(a);return b(d).$asObject()}}}]).controller("LandingCtrl",["$scope","$location","$firebase","RoomHelper",function(a,b,d,e){a.joinRoom=function(){b.path("/"+a.roomId)},a.newRoom=function(){var a=e.generateRoomId(),f=d(c.child("rooms").child(a)),g={leader:!0,uuid:e.generateUserId(),voter:!0};f.$set({users:[g]}),b.path("/"+a)}}]).controller("RoomCtrl",["$scope","$routeParams","$location","RoomHelper",function(a,b,c,e){a.changeDeck=function(){a.selectedDeck=d[a.selectedDeckIndex].cards};var f=b.roomId;e.checkIfRoomExists(f).then(function(b){b?(a.room=e.getRoom(f),a.cardDecks=d,a.selectedDeckIndex=0,a.selectedDeck=d[a.selectedDeckIndex].cards):c.path("/")})}])}(window,window.angular);